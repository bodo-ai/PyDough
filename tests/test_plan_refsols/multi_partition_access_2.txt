ROOT(columns=[('transaction_id', transaction_id), ('name', name), ('symbol', symbol), ('transaction_type', transaction_type), ('cus_tick_typ_avg_shares', cus_tick_typ_avg_shares), ('cust_tick_avg_shares', cust_tick_avg_shares), ('cust_avg_shares', cust_avg_shares)], orderings=[(transaction_id):asc_first])
 JOIN(conditions=[t0.ticker_id == t1._id], types=['inner'], columns={'cus_tick_typ_avg_shares': t0.cus_tick_typ_avg_shares, 'cust_avg_shares': t0.cust_avg_shares, 'cust_tick_avg_shares': t0.cust_tick_avg_shares, 'name': t0.name, 'symbol': t1.symbol, 'transaction_id': t0.transaction_id, 'transaction_type': t0.transaction_type})
  JOIN(conditions=[t0.customer_id_28 == t1._id], types=['inner'], columns={'cus_tick_typ_avg_shares': t0.cus_tick_typ_avg_shares, 'cust_avg_shares': t0.cust_avg_shares, 'cust_tick_avg_shares': t0.cust_tick_avg_shares, 'name': t1.name, 'ticker_id': t0.ticker_id, 'transaction_id': t0.transaction_id, 'transaction_type': t0.transaction_type})
   FILTER(condition=shares < cus_tick_typ_avg_shares & shares < cust_avg_shares & shares < cust_tick_avg_shares, columns={'cus_tick_typ_avg_shares': cus_tick_typ_avg_shares, 'cust_avg_shares': cust_avg_shares, 'cust_tick_avg_shares': cust_tick_avg_shares, 'customer_id_28': customer_id_28, 'ticker_id': ticker_id, 'transaction_id': transaction_id, 'transaction_type': transaction_type_29})
    JOIN(conditions=[t0.customer_id_24 == t1.customer_id & t0.ticker_id_26 == t1.ticker_id & t0.transaction_type_27 == t1.transaction_type], types=['inner'], columns={'cus_tick_typ_avg_shares': t0.cus_tick_typ_avg_shares, 'cust_avg_shares': t0.cust_avg_shares, 'cust_tick_avg_shares': t0.cust_tick_avg_shares, 'customer_id_28': t1.customer_id, 'shares': t1.shares, 'ticker_id': t1.ticker_id, 'transaction_id': t1.transaction_id, 'transaction_type_29': t1.transaction_type})
     JOIN(conditions=[t0.customer_id_21 == t1.customer_id & t0.ticker_id_22 == t1.ticker_id], types=['inner'], columns={'cus_tick_typ_avg_shares': t1.cus_tick_typ_avg_shares, 'cust_avg_shares': t0.cust_avg_shares, 'cust_tick_avg_shares': t0.cust_tick_avg_shares, 'customer_id_24': t1.customer_id, 'ticker_id_26': t1.ticker_id, 'transaction_type_27': t1.transaction_type})
      JOIN(conditions=[t0.customer_id == t1.customer_id], types=['inner'], columns={'cust_avg_shares': t0.cust_avg_shares, 'cust_tick_avg_shares': t1.cust_tick_avg_shares, 'customer_id_21': t1.customer_id, 'ticker_id_22': t1.ticker_id})
       JOIN(conditions=[t0.customer_id == t1.customer_id], types=['inner'], columns={'cust_avg_shares': t1.cust_avg_shares, 'customer_id': t0.customer_id})
        AGGREGATE(keys={'customer_id': customer_id}, aggregations={})
         AGGREGATE(keys={'customer_id': customer_id, 'ticker_id': ticker_id}, aggregations={})
          AGGREGATE(keys={'customer_id': customer_id, 'ticker_id': ticker_id, 'transaction_type': transaction_type}, aggregations={})
           SCAN(table=main.sbTransaction, columns={'customer_id': sbTxCustId, 'ticker_id': sbTxTickerId, 'transaction_type': sbTxType})
        PROJECT(columns={'cust_avg_shares': expr_0 / expr_1, 'customer_id': customer_id})
         AGGREGATE(keys={'customer_id': customer_id}, aggregations={'expr_0': SUM(expr_0), 'expr_1': SUM(expr_1)})
          JOIN(conditions=[t0.customer_id_9 == t1.customer_id & t0.ticker_id_11 == t1.ticker_id & t0.transaction_type_12 == t1.transaction_type], types=['inner'], columns={'customer_id': t0.customer_id, 'expr_0': t1.expr_0, 'expr_1': t1.expr_1})
           JOIN(conditions=[t0.customer_id == t1.customer_id & t0.ticker_id == t1.ticker_id], types=['inner'], columns={'customer_id': t0.customer_id, 'customer_id_9': t1.customer_id, 'ticker_id_11': t1.ticker_id, 'transaction_type_12': t1.transaction_type})
            AGGREGATE(keys={'customer_id': customer_id, 'ticker_id': ticker_id}, aggregations={})
             AGGREGATE(keys={'customer_id': customer_id, 'ticker_id': ticker_id, 'transaction_type': transaction_type}, aggregations={})
              SCAN(table=main.sbTransaction, columns={'customer_id': sbTxCustId, 'ticker_id': sbTxTickerId, 'transaction_type': sbTxType})
            AGGREGATE(keys={'customer_id': customer_id, 'ticker_id': ticker_id, 'transaction_type': transaction_type}, aggregations={})
             SCAN(table=main.sbTransaction, columns={'customer_id': sbTxCustId, 'ticker_id': sbTxTickerId, 'transaction_type': sbTxType})
           AGGREGATE(keys={'customer_id': customer_id, 'ticker_id': ticker_id, 'transaction_type': transaction_type}, aggregations={'expr_0': SUM(shares), 'expr_1': COUNT(shares)})
            SCAN(table=main.sbTransaction, columns={'customer_id': sbTxCustId, 'shares': sbTxShares, 'ticker_id': sbTxTickerId, 'transaction_type': sbTxType})
       JOIN(conditions=[t0.ticker_id == t1.ticker_id & t0.customer_id == t1.customer_id], types=['inner'], columns={'cust_tick_avg_shares': t1.cust_tick_avg_shares, 'customer_id': t0.customer_id, 'ticker_id': t0.ticker_id})
        AGGREGATE(keys={'customer_id': customer_id, 'ticker_id': ticker_id}, aggregations={})
         AGGREGATE(keys={'customer_id': customer_id, 'ticker_id': ticker_id, 'transaction_type': transaction_type}, aggregations={})
          SCAN(table=main.sbTransaction, columns={'customer_id': sbTxCustId, 'ticker_id': sbTxTickerId, 'transaction_type': sbTxType})
        PROJECT(columns={'cust_tick_avg_shares': expr_0 / expr_1, 'customer_id': customer_id, 'ticker_id': ticker_id})
         AGGREGATE(keys={'customer_id': customer_id, 'ticker_id': ticker_id}, aggregations={'expr_0': SUM(expr_0), 'expr_1': SUM(expr_1)})
          JOIN(conditions=[t0.customer_id == t1.customer_id & t0.ticker_id == t1.ticker_id & t0.transaction_type == t1.transaction_type], types=['inner'], columns={'customer_id': t0.customer_id, 'expr_0': t1.expr_0, 'expr_1': t1.expr_1, 'ticker_id': t0.ticker_id})
           AGGREGATE(keys={'customer_id': customer_id, 'ticker_id': ticker_id, 'transaction_type': transaction_type}, aggregations={})
            SCAN(table=main.sbTransaction, columns={'customer_id': sbTxCustId, 'ticker_id': sbTxTickerId, 'transaction_type': sbTxType})
           AGGREGATE(keys={'customer_id': customer_id, 'ticker_id': ticker_id, 'transaction_type': transaction_type}, aggregations={'expr_0': SUM(shares), 'expr_1': COUNT(shares)})
            SCAN(table=main.sbTransaction, columns={'customer_id': sbTxCustId, 'shares': sbTxShares, 'ticker_id': sbTxTickerId, 'transaction_type': sbTxType})
      AGGREGATE(keys={'customer_id': customer_id, 'ticker_id': ticker_id, 'transaction_type': transaction_type}, aggregations={'cus_tick_typ_avg_shares': AVG(shares)})
       SCAN(table=main.sbTransaction, columns={'customer_id': sbTxCustId, 'shares': sbTxShares, 'ticker_id': sbTxTickerId, 'transaction_type': sbTxType})
     SCAN(table=main.sbTransaction, columns={'customer_id': sbTxCustId, 'shares': sbTxShares, 'ticker_id': sbTxTickerId, 'transaction_id': sbTxId, 'transaction_type': sbTxType})
   SCAN(table=main.sbCustomer, columns={'_id': sbCustId, 'name': sbCustName})
  SCAN(table=main.sbTicker, columns={'_id': sbTickerId, 'symbol': sbTickerSymbol})
