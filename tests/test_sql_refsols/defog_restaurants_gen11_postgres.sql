SELECT
  CAST(SUM(CASE WHEN rating > 4.5 THEN 1 ELSE 0 END) AS DOUBLE PRECISION) / NULLIF(COUNT(*), 0) AS ratio
FROM main.restaurant
