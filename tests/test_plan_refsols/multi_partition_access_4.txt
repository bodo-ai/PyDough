ROOT(columns=[('transaction_id', sbTxId)], orderings=[(sbTxId):asc_first])
 JOIN(condition=t1.sbTxShares < t0.max_max_sbTxShares & t0.sbTxCustId == t1.sbTxCustId & t0.anything_sbTxTickerId == t1.sbTxTickerId & t1.sbTxShares >= t0.anything_max_sbTxShares, type=INNER, cardinality=PLURAL_FILTER, reverse_cardinality=SINGULAR_FILTER, columns={'sbTxId': t1.sbTxId})
  AGGREGATE(keys={'sbTxCustId': sbTxCustId}, aggregations={'anything_max_sbTxShares': ANYTHING(max_sbTxShares), 'anything_sbTxTickerId': ANYTHING(sbTxTickerId), 'max_max_sbTxShares': MAX(sbTxShares)})
   JOIN(condition=t0.sbTxCustId == t1.sbTxCustId, type=INNER, cardinality=PLURAL_FILTER, reverse_cardinality=PLURAL_ACCESS, columns={'max_sbTxShares': t1.max_sbTxShares, 'sbTxCustId': t0.sbTxCustId, 'sbTxShares': t0.sbTxShares, 'sbTxTickerId': t1.sbTxTickerId})
    SCAN(table=main.sbTransaction, columns={'sbTxCustId': sbTxCustId, 'sbTxShares': sbTxShares})
    AGGREGATE(keys={'sbTxCustId': sbTxCustId, 'sbTxTickerId': sbTxTickerId}, aggregations={'max_sbTxShares': MAX(sbTxShares)})
     SCAN(table=main.sbTransaction, columns={'sbTxCustId': sbTxCustId, 'sbTxShares': sbTxShares, 'sbTxTickerId': sbTxTickerId})
  SCAN(table=main.sbTransaction, columns={'sbTxCustId': sbTxCustId, 'sbTxId': sbTxId, 'sbTxShares': sbTxShares, 'sbTxTickerId': sbTxTickerId})
