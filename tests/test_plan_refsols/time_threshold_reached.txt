ROOT(columns=[('date_time', sbTxDateTime)], orderings=[(sbTxDateTime):asc_first])
 FILTER(condition=RANKING(args=[], partition=[DATETIME(sbTxDateTime, 'start of day':string)], order=[(pct_of_day):asc_last], allow_ties=False) == 1:numeric, columns={'sbTxDateTime': sbTxDateTime})
  FILTER(condition=pct_of_day >= 50.0:numeric, columns={'pct_of_day': pct_of_day, 'sbTxDateTime': sbTxDateTime})
   PROJECT(columns={'pct_of_day': 100.0:numeric * RELSUM(args=[sbTxShares], partition=[DATETIME(sbTxDateTime, 'start of day':string)], order=[(sbTxDateTime):asc_last], cumulative=True) / RELSUM(args=[sbTxShares], partition=[DATETIME(sbTxDateTime, 'start of day':string)], order=[]), 'sbTxDateTime': sbTxDateTime})
    FILTER(condition=YEAR(sbTxDateTime) == 2023:numeric, columns={'sbTxDateTime': sbTxDateTime, 'sbTxShares': sbTxShares})
     SCAN(table=main.sbTransaction, columns={'sbTxDateTime': sbTxDateTime, 'sbTxShares': sbTxShares})
