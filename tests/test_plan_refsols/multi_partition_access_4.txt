ROOT(columns=[('transaction_id', sbTxId)], orderings=[(sbTxId):asc_first])
 FILTER(condition=sbTxShares < max_max_sbTxShares & sbTxShares >= max_sbTxShares, columns={'sbTxId': sbTxId})
  JOIN(condition=t0.customer_id == t1.sbTxCustId & t0.ticker_id == t1.sbTxTickerId, type=INNER, cardinality=PLURAL_FILTER, columns={'max_max_sbTxShares': t0.max_max_sbTxShares, 'max_sbTxShares': t0.max_sbTxShares, 'sbTxId': t1.sbTxId, 'sbTxShares': t1.sbTxShares})
   JOIN(condition=t0.customer_id == t1.customer_id, type=INNER, cardinality=PLURAL_FILTER, columns={'customer_id': t1.customer_id, 'max_max_sbTxShares': t0.max_max_sbTxShares, 'max_sbTxShares': t1.max_sbTxShares, 'ticker_id': t1.ticker_id})
    AGGREGATE(keys={'customer_id': customer_id}, aggregations={'max_max_sbTxShares': MAX(max_sbTxShares)})
     AGGREGATE(keys={'customer_id': sbTxCustId, 'ticker_id': sbTxTickerId}, aggregations={'max_sbTxShares': MAX(sbTxShares)})
      SCAN(table=main.sbTransaction, columns={'sbTxCustId': sbTxCustId, 'sbTxShares': sbTxShares, 'sbTxTickerId': sbTxTickerId})
    AGGREGATE(keys={'customer_id': sbTxCustId, 'ticker_id': sbTxTickerId}, aggregations={'max_sbTxShares': MAX(sbTxShares)})
     SCAN(table=main.sbTransaction, columns={'sbTxCustId': sbTxCustId, 'sbTxShares': sbTxShares, 'sbTxTickerId': sbTxTickerId})
   SCAN(table=main.sbTransaction, columns={'sbTxCustId': sbTxCustId, 'sbTxId': sbTxId, 'sbTxShares': sbTxShares, 'sbTxTickerId': sbTxTickerId})
